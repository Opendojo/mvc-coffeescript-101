<!DOCTYPE HTML>
<!-- <html lang="en-US"> -->
<html lang="en-US" class="fade">
<!-- 
  ^ a class of "fade" makes slides fade smoothly into one another
 -->
<!-- <html lang="en-US" class="nonumbers"> -->
<!-- 
  If you want no numbers on the slides add a "nonumbers" class 
  to the HTML element.
  Adding a class of "fade" will make slides fade into another. 
-->
<head>
  <meta charset="UTF-8">
  <title>CoffeeScript - MVC from Scratch - 101</title>
<!-- 
  If you upload your slides to the web, ensure that you have 
  a good title - this shows up in search results and social
  media links
 -->
  <meta name="viewport" content="width=device-width, user-scalable=yes">
  <link rel="stylesheet" href="themes/mozilla/styles/style.css">
  <style type="text/css">
    div[id$='bullets'].slide > div::after {
      content: 'For Information only, do NOT present';
      background: rgba(200,0,0,0.5);
      color: #fff;
      position: absolute;
      top: 20px;
      right: 0;
      padding: 5px 20px;
      transform: rotate(90deg) translate(52%,-150px);
      border-radius: 5px;
    }
    .full div[id$='bullets'].slide > div::after {
      animation: wiggle alternate 1s infinite;
    }
    @keyframes wiggle {
      from {
        transform: rotate(90deg) translate(52%,-150px);
      }
      to {
        transform: rotate(90deg) translate(52%,-160px);
      }
    }
    .demourl {
      bottom: 10px;
    }
  </style>
</head>
<body class="list">

  <header class="caption">
    <h1>CoffeeScript - MVC from Scratch - 101</h1>
    <p class="footer">
      Sébastien Barbieri, 
      <a href="http://twitter.com/scips">@scips</a> 
    </p>
  </header>
  <aside class="talkdescription">
    <p>Create your own MVC in CoffeeScript using require.js and jquery<button onclick="goFullScreen()">Go fullscreen</button></p>
    <p class="abstract">
      <strong>Abstract: </strong>
      Follow this guide to create your own MVC app in CoffeeScript using require js and jquery
    </p>
  </aside>

<!-- 
      <a href="http://coffeescript.org/">CoffeeScript</a>
      <a href="http://requirejs.org/">Require.JS</a>
      <a href="http://jquery.com/">Jquery</a>

    Simply copy the whole block for each slide you want.
  Special slides get extra classes. Each slide needs an ID 
  to allow for bookmarking and target jumping.
-->

  <div id="cover" class="slide"><div>
    <section>
      <header>
        <h2>MVC - CoffeeScript - 101</h2>
      </header>
      <img src="pictures/mvc101/01-intro.png" 
           class="middle shadow" height="300"
           alt="">
      <small class="byline">
        Sébastien Barbieri, RTBF, 25-02-2014
      </small>
      <footer class="notes">
        Cover slide
      </footer>
    </section>
  </div></div>

<!-- end slide block -->

<!-- ===================================================================
CoffeeScript 
======================================================================== -->

  <div id="coffeescript" class="slide shout"><div>
    <section>
      <header>
        <h2>CoffeeScript</h2>
      </header>
    <footer class="notes">
      Jeremy Ashkenas (Backbone, Underscore)
      Compile into JS (transpile)
    </footer>
    </section>
  </div></div>

  <div id="whatscoffeescript" class="slide"><div>
    <section>
      <header>
        <h2>CoffeeScript</h2>
      </header>
      <ul class="inner">
        <li class="active">Language that compile in Javascript</li>
        <li>Cross browser compatible</li>
        <li>Best practices</li>
        <li>Easier to read</li>
        <li>Syntax validator</li>
        <li>Classes</li>
      </ul>
    <footer class="notes">
    function test(){
      console.log("test named function");
    }
    test();
    var test=function(){
      console.log("test anonymous function");
    }
    test();

    ECMA Script 6 idea
    </footer>
    </section>
  </div></div>

  <div id="installcoffeescript" class="slide"><div>
    <section>
      <header>
        <h2>Install coffee script</h2>
      </header>
      <ul class="inner">
        <li class="active"><strong>sudo npm install -g coffee-script</strong></li>
        <li>Create a file: <strong>touch test.coffee</strong></li>
        <li>in a terminal run: <strong>coffee test.coffee</strong></li>
        <li>add some code    
          <pre><code>console.log "Hello world"</code></pre>
        </li>
        <li>run again: <strong>coffee test.coffee</strong></li>
        <li>compile: <strong>coffee -c test.coffee</strong></li>
        <li>Check js generated file: <strong>cat test.js</strong></li>
      </ul>
      <p class="demourl"><a href="http://coffeescript.org/">CoffeeScript</a></p>
    <footer class="notes">
      CoffeeScript is available as an NPM package
    </footer>
    </section>
  </div></div>


  <div id="cakecoffeescript" class="slide cover"><div>
    <section>
      <header>
        <h2>No coffee without <em>cake</em></h2>
      </header>
      <ul class="nobull">
         <li><strong>Cake</strong> is the <strong>Make</strong> for CoffeeScript</li>
         <li><strong>Cakefile</strong>: are the equivalent of makefile</li>
         <li>cakefiles use tasks that you can launch by running: <strong>cake mytask</strong></li>
      </ul>
      <p>It will be used:</p>
      <ul>
         <li>To build our application (compile, concatenate, minify...)</li>
      </ul>
      <img src="pictures/mvc101/03-cake.jpg" class="middle" alt="Cake for your coffee" width="100%">
      <small class="credits">
        <a href="http://www.flickr.com/photos/chambrayandcurls/"><em>Photo by Laura</em></a>
      </small>
    <footer class="notes">
      Build within sublime (sbuild), launch tasks (concatenate, minify...)
    </footer>
    </section>
  </div></div>

  <div id="classcoffeesript" class="slide"><div>
    <section>
      <header>
        <h2>Coffee 101</h2>
      </header>
      <ul>
        <li>Concatenate: "some" + "things"</li>
        <li>Object/Array: {prop1:"val1",prop2:"val2"} / ["val1","val2"]</li>
        <li>Assign: a = 1 + 1</li>
        <li>Conditions: if test1 is "hello" and test2 is true ... else ... </li>
        <li>Loops: eat food for food in ['toast', 'cheese', 'wine']</li>
        <li>Functions: eat = (item='')-&gt; console.log("eating #{item}"); "burp";</li>
        <li>Class: class Video contructor:(@item)-&gt; play:()-&gt; @classMethod:()-&gt;</li>
        <li>Inherit: class VideoController extends Controller</li>
      </ul>
    <footer class="notes">
      Use interactive coffee
      Space is a good habit
      Object indented with spaces
      Concatenate 1+"a"
      
      if is isnt else + indent
      value = 1 if test is true
      value = 1 unless test is false
      
      foods = ['broccoli', 'spinach', 'chocolate']
      eat food for food in foods when food isnt 'chocolate'
      foods_no_choc = for food in foods when food isnt 'chocolate'

      Functions return by default + indent

      Class indentation, default constructor function name
      Class method
    </footer>
    </section>
  </div></div>

  <div id="todocoffeesript" class="slide"><div>
    <section>
      <header>
        <h2>Coffee 101: DOJO</h2>
      </header>
      <ol class="longlist">
        <li>Create a test.coffee file</li>
        <li>Create a class called Controller
          <ol>
            <li>create the constructor function that initialize a name property and count the number of instance created</li>
            <li>create the show function that print out the name of the controller</li>
            <li>create the hide function that print out the name of the controller + "hidden"</li>
            <li>create a getCount static method that returns the number of instances created</li>
          </ol>
        </li>
        <li>Create a class called LoadingController that extends Controller
          <ol>
            <li>override the hide function by printing "overrided" + call the parent</li>
          </ol>
        </li>
        <li>Create an instance of LoadingController + call show and then hide</li>
        <li>Create a second instance of LoadingController + call show and then hide</li>
        <li>Display the number of instance created</li>
      </ol>
    <footer class="notes">
      class Controller
        count: 0
        
        Controller::getCount = ->
          Controller::count

        constructor:(name)->
          @name = name
          Controller::count++

        show: ()->
          console.log "#{@name}"
        hide: ()->
          console.log "#{@name} hidden"



      class LoadingController extends Controller
        hide: ()->
          console.log "overrided"
          super()

      myInstance = new LoadingController("loading")
      myInstance2 = new LoadingController("loading2")

      myInstance.show()
      myInstance2.show()
      myInstance.hide()
      myInstance2.hide()

      console.log(LoadingController::getCount())
    </footer>
    </section>
  </div></div>


  <div id="sublimecoffeescript" class="slide cover"><div>
    <section>
      <header>
        <h2>CoffeeScript + Cake + Sublime</h2>
      </header>
      <ul class="nobull">
         <li>Install the coffee script package: <a href="https://github.com/Xavura/CoffeeScript-Sublime-Plugin">https://github.com/Xavura/CoffeeScript-Sublime-Plugin</a></li>
         <li>Use the <em>via package control</em> method</li>
         <li>Create a <a href="https://raw.githubusercontent.com/Opendojo/mvc-coffeescript-101/presa/Cakefile">Cakefile</a> at the root of your sublime project</li>
         <li>Modify the cake file to your needs... But what are your needs?</li>
      </ul>
      <img src="pictures/mvc101/04-lovecoffee.jpg" class="middle" alt="Love coffee" width="100%">
      <small class="credits">
        <a href="http://www.flickr.com/photos/chambrayandcurls/"><em>Photo by Laura</em></a>
      </small>
    <footer class="notes">
      Install package
      Press F7, Ctrl-Shift-C, Ctrl-Shift-S
      Use a good cakefile
    </footer>
    </section>
  </div></div>



<!-- ===================================================================
Webapp - Directory structure 
======================================================================== -->

  <div id="webapp" class="slide shout"><div>
    <section>
      <header>
        <h2>Webapp structure</h2>
      </header>
    <footer class="notes">
      Folder Structure
    </footer>
    </section>
  </div></div>

  <div id="webappstructure" class="slide"><div>
    <section>
      <header>
        <h2>Webapp Structure</h2>
      </header>
      <ul class="longlist">
        <li>SOURCES/
          <ul>
            <li>app/
              <ul>
                <li>model/</li>
                <li>view/</li>
                <li>controller/</li>
              </ul>
            </li>
            <li>app/vendor/: all the needed scripts (jquery, require...)</li>
            <li>static/</li>
            <li>index.html</li>
          </ul>
        </li>
        <li>BUILD/</li>
        <li>TESTS/</li>
        <li>Cakefile</li>
      </ul>
    <footer class="notes">
      TODO: structure
      Explain: SOURCES, BUILD, TESTS
      Git version tests = git version of source
    </footer>
    </section>
  </div></div>

  <div id="webappindex" class="slide"><div>
    <section>
      <header>
        <h2>Webapp Structure: <em>index</em></h2>
      </header>
      <pre>
        <code>&lt;!DOCTYPE html&gt;</code>
        <code>&lt;html&gt;</code>
        <code>  &lt;head&gt;</code>
        <code>    &lt;title&gt;MVC - CoffeeScript - 101&lt;/title&gt;</code>
        <code>    &lt;link href="static/css/main.css" rel="stylesheet" type="text/css" media="all" /&gt;</code>
        <code>  &lt;/head&gt;</code>
        <code>  &lt;body&gt;</code>
        <code>    &lt;h1&gt;Hello World&lt;/h1&gt;</code>
        <code>  &lt;/body&gt;</code>
        <code>&lt;/html&gt;</code>
      </pre>
    <footer class="notes">
      TODO: 
        - create the index file and test (+ configure apache)
        - create the css
        - check console
    </footer>
    </section>
  </div></div>

  <div id="webapptodo" class="slide"><div>
    <section>
      <header>
        <h2>Webapp Structure DOJO</h2>
      </header>
      <ul>
        <li>Create the directory structure</li>
        <li>Create the index file</li>
        <li>Create the css file</li>
        <li>Test</li>
      </ul>
    <footer class="notes">
      TODO: 
        - create the index file and test (+ configure apache)
        - create the css
        - check console
    </footer>
    </section>
  </div></div>


<!-- ===================================================================
Require JS - AMD 
======================================================================== -->

  <div id="requirejs" class="slide shout"><div>
    <section>
      <header>
        <h2>Require.JS</h2>
      </header>
    <footer class="notes">
      James Burke
      AMD: Asynchronous Module Definition
      script tag and global namespace
      Dependency and order
      Complex optimization
    </footer>
    </section>
  </div></div>

  <div id="amdrequirejs" class="slide"><div>
    <section>
      <header>
        <h2>Require.JS: <em>AMD</em></h2>
      </header>
      <p>Anonymous module</p>
      <pre>
        <code>define(['dep1', 'dep2'], function (dep1, dep2) {</code>
        <code>  return function () {};</code>
        <code>});</code>
      </pre>

    <footer class="notes">
      Explain difference between anonymous module and named modules
    </footer>
    </section>
  </div></div>

  <div id="mainrequirejs" class="slide"><div>
    <section>
      <header>
        <h2>Require.JS: <em>main app</em></h2>
      </header>
      <p>The main app is simply launched via data-main</p>
      <pre>
        <code>&lt;script data-main="app/main" src="scripts/require.js"&gt;</code>
        <code>&lt;/script&gt;</code>
      </pre>
      <p>This will launch the scripts/main.js file</p>
    <footer class="notes">
      It's not needed to specify the file extension
    </footer>
    </section>
  </div></div>

  <div id="mainbootstraprequirejs" class="slide"><div>
    <section>
      <header>
        <h2>Require.JS: <em>main app</em></h2>
      </header>
      <p>the main script should simply load the application and launch it</p>
      <pre>
        <code>define ['app/controller/main'],(Application)</code>
        <code>  $(document).ready ()-> </code>
        <code>    app = new Application()</code>
        <code>    app.launch()</code>
        <code></code>
      </pre>
      <p>This will launch the scripts/main.js file</p>
    <footer class="notes">
      It's not needed to specify the file extension
    </footer>
    </section>
  </div></div>

<!-- ===================================================================
Simple MVC webapp all together 
======================================================================== -->

  <div id="alltogether" class="slide shout"><div>
    <section>
      <header>
        <h2>Let's make the MVC</h2>
      </header>
    <footer class="notes">
      Start with the main controller
    </footer>
    </section>
  </div></div>

  <div id="alltogethermainpart0" class="slide"><div>
    <section>
      <header>
        <h2>MVC: main app</h2>
      </header>
      <p>Add vendor scripts</p>
      <ul>
        <li>requirejs</li>
        <li>jquery 2</li>
      </ul>
    <footer class="notes">
      Explain the main controller
    </footer>
    </section>
  </div></div>


  <div id="alltogethermainpart1" class="slide"><div>
    <section>
      <header>
        <h2>MVC: main app (1/4)</h2>
      </header>
      <p>Create the main controller</p>
      <pre>
        <code>define ['vendor/jquery'</code>
        <code>  ,'app/controller/screen1'</code>
        <code>  ,'app/controller/screen2'],</code>
        <code>  ($,Screen1Controller,Screen2Controller)-></code>
        <code>  class MainController</code>
        <code>    constructor:()-&gt;</code>
        <code>      @CtrlScreen1 = new Screen1Controller()</code>
        <code>      @CtrlScreen2 = new Screen2Controller()</code>
      </pre>
    <footer class="notes">
      Explain the main controller
    </footer>
    </section>
  </div></div>


  <div id="alltogethermainpart2" class="slide"><div>
    <section>
      <header>
        <h2>MVC: main app (2/4)</h2>
      </header>
      <pre>
        <code>    dispatch:(event)-&gt;</code>
        <code>      if event.action is 'screen1'</code>
        <code>        CtrlScreen2.hide()</code>
        <code>        CtrlScreen1.show()</code>
        <code>      if event.action is 'screen2'</code>
        <code>        CtrlScreen1.hide()</code>
        <code>        CtrlScreen2.show()</code>
        <code></code>
      </pre>
    <footer class="notes">
      Continued main controller
    </footer>
    </section>
  </div></div>

  <div id="alltogethermainpart3" class="slide"><div>
    <section>
      <header>
        <h2>MVC: main app (3/4) DOJO</h2>
      </header>
      <ul>
        <li>Create app/controller/screen.coffee</li>
        <li>Add a class ScreenController with the following functions:
          <ul>
            <li>Contructor</li>
            <li>Show</li>
            <li>Hide</li>
          </ul>
        </li>
        <li>each method will simply do a console.log</li>
        <li>Create app/controller/screen1.coffee</li>
        <li>Add a class Screen1Controller that extends Screen</li>
        <li>Create app/controller/screen2.coffee</li>
        <li>Add a class Screen2Controller that extends Screen</li>
      </ul>
    <footer class="notes">
      Let the creation of the other controller for the DOJO
    </footer>
    </section>
  </div></div>

  <div id="alltogethermainpart4" class="slide"><div>
    <section>
      <header>
        <h2>MVC: main app (4/4) DOJO</h2>
      </header>
      <ul>
        <li>Bind the main controller to any event receveid by the body</li>
        <li>Launch the application</li>
        <li>Use the console to trigger jquery event</li>
      </ul>
      <pre>
        <code>e = new Event("application");</code>
        <code>e.action="screen1";</code>
        <code>$(body).trigger(e);</code>
      </pre>
    <footer class="notes">
      
    </footer>
    </section>
  </div></div>


<!-- ===================================================================
Thanks
======================================================================== -->

  <div id="thanks" class="slide cover w"><div>
    <section>
      <header>
        <h2>Thanks</h2>
      </header>
      <ul class="nobull">
        <li>Sébastien Barbieri</li>
        <li>CrossMedia Solution Engineer @RTBF</li>
        <li><a href="http://twitter.com/scips">@scips</a></li>
        <li><strong>Slides</strong>: <a href="http://opendojo.github.io/mvc-coffeescript-101/presa/">http://opendojo.github.io/mvc-coffeescript-101/presa/</a></li>
      </ul>

      <img src="pictures/mvc101/02-thanks.jpg" class="middle" alt="Switzerland" width="100%">
      <small class="credits">
        <em>Photo by SCiPS</em>
      </small>

    <footer class="notes">
    </footer>

    </section>
  </div></div>

  <!--
    To hide progress bar from entire presentation
    just remove “progress” element.
    -->
  <div class="progress"><div></div></div>
  <script src="scripts/script.js"></script>
  <!-- Copyright © 2010–2012 Vadim Makeev — pepelsbey.net -->
</body>
</html>